<?php
 defined("\111\116\137\111\101") or exit("\101\143\x63\x65\163\163\x20\x44\x65\156\x69\145\144"); class Lshd_yanzhiModuleWxapp extends WeModuleWxapp { function saveFile($imgpath, $imgtype) { goto hIpoz; t4tkW: XrwGL: goto WqHvs; RYyZu: $pa = __DIR__ . "\57\165\160\154\157\141\x64\x69\x6d\x67\57"; goto AZoOh; DK3dW: if ($settings["\163\164\x6f\162\x61\x67\x65\163"] == 1) { goto mlGkh; } goto Ya23o; Oh0u0: $auth = new \Qiniu\Auth(trim($settings["\161\x69\x6e\x69\x75\x5f\153\x65\x79"]), trim($settings["\161\151\156\x69\165\x5f\163\145\x63\x72\145\x74"])); goto m0Snn; CpVlS: SOyyi: goto apgvp; OfRxR: if ($settings["\x6f\160\x65\x6e\137\141\154\151"] == 1) { goto C3nXY; } goto wMEZ_; br0iQ: $settings = $this->module["\143\x6f\156\x66\x69\x67"]; goto oAGUt; Ya23o: if (!move_uploaded_file($imgtmp, $paths)) { goto XrwGL; } goto NuwZa; KGFTb: $qiniuurl = trim($settings["\x71\151\x6e\x69\x75\137\144\x6f\155\141\x69\x6e"]) . "\x2f" . $ret["\153\145\171"]; goto NiKMr; F3vOQ: if (!move_uploaded_file($imgtmp, $paths)) { goto MzDLy; } goto qJ6ae; NiKMr: return $qiniuurl; goto X2S4d; d6a3I: try { goto Q93fp; z5zMT: $result = $cosApi->upload($settings["\143\157\x73\x5f\x62\x75\143\153\145\x74"], $imgtmp, $imgtypes); goto bEm1R; Q93fp: $cosApi = new QCloud\Cos\Api(array("\141\x70\160\137\151\x64" => $settings["\x63\x6f\x73\x5f\x61\x70\160\x69\144"], "\x73\145\x63\x72\x65\x74\137\x69\144" => $settings["\143\x6f\163\x5f\163\x65\x63\x72\x65\x74\x69\144"], "\163\x65\x63\x72\145\164\137\x6b\x65\x79" => $settings["\143\157\163\x5f\x73\145\x63\162\x65\x74\x6b\x65\x79"], "\x72\145\x67\x69\x6f\x6e" => $settings["\x63\157\163\x5f\154\157\143\141\154"], "\x74\x69\x6d\x65\x6f\x75\164" => 60)); goto z5zMT; bEm1R: return $result["\144\141\164\x61"]["\x73\x6f\x75\x72\143\145\137\x75\162\x6c"]; goto OcG3t; OcG3t: } catch (Exception $e) { goto pESgu; pESgu: if (!move_uploaded_file($imgtmp, $paths)) { goto FeEYD; } goto of4f5; of4f5: return $this->ToUrls(MODULE_URL . "\165\x70\154\157\141\x64\151\155\x67\57" . $imgtypes); goto JE3SD; JE3SD: FeEYD: goto j5IY7; j5IY7: } goto cW2SH; hIpoz: global $_W, $_GPC; goto br0iQ; Y0d0a: $upload = new \Qiniu\Storage\UploadManager(); goto O4Bgv; wMEZ_: if ($settings["\157\160\x65\x6e\137\143\x6f\163"] == 1) { goto eAjgL; } goto rG6Ye; cW2SH: Hz09y: goto TN2ow; O4Bgv: list($ret, $err) = $upload->putFile($token, $imgtypes, $imgtmp); goto eEK95; RRlRj: C3nXY: goto eZZ3Y; ml76V: ZBNOr: goto R55um; BoowZ: v94XQ: goto inprn; AZoOh: if (file_exists($pa)) { goto ZBNOr; } goto TqCCI; qJ6ae: return $this->ToUrls(MODULE_URL . "\x75\160\154\157\141\x64\x69\155\x67\x2f" . $imgtypes); goto eoYIO; TqCCI: mkdir($pa); goto ml76V; eEK95: if ($err !== null) { goto mjGnW; } goto KGFTb; eoYIO: MzDLy: goto ENTYg; aYomm: goto Hz09y; goto WEkEY; E2okp: return $this->ToUrls(MODULE_URL . "\x75\x70\x6c\x6f\x61\144\x69\x6d\147\x2f" . $imgtypes); goto CGlj2; oAGUt: load()->func("\146\151\154\145"); goto ELUzg; WEkEY: eAjgL: goto mwFry; TqwKd: mlGkh: goto BHyLy; kWa_x: CsecU: goto KTMVU; inprn: goto GqMp4; goto kWa_x; TN2ow: goto v94XQ; goto RRlRj; rG6Ye: if (!move_uploaded_file($imgtmp, $paths)) { goto Brl_Z; } goto E2okp; m0Snn: $token = $auth->uploadToken(trim($settings["\x71\x69\156\x69\165\137\163\164\157\162\x61\147\145"])); goto Y0d0a; CGlj2: Brl_Z: goto aYomm; WyqPy: mjGnW: goto F3vOQ; BHyLy: if ($settings["\157\160\145\x6e\x5f\161\151\x6e\151\x75"] == 1) { goto CsecU; } goto OfRxR; KTMVU: require_once __DIR__ . "\57\x74\145\155\x70\x6c\x61\164\145\57\x73\164\141\x74\x69\x63\x2f\161\x69\x6e\151\165\57\141\165\164\157\154\x6f\x61\x64\56\160\150\160"; goto Oh0u0; ELUzg: $imgtmp = $imgpath; goto zGPCR; NuwZa: return $this->ToUrls(MODULE_URL . "\165\x70\154\x6f\x61\x64\151\155\147\x2f" . $imgtypes); goto t4tkW; mwFry: require_once __DIR__ . "\57\164\x65\155\x70\154\141\164\x65\57\x73\x74\x61\x74\x69\143\57\143\157\163\57\151\x6e\143\x6c\165\144\x65\56\x70\150\x70"; goto d6a3I; zGPCR: $imgtypes = $imgtype; goto RYyZu; ENTYg: ewkF9: goto go7h0; eZZ3Y: try { goto Wkjr2; JVmhu: $ossClient = new OSS\OssClient($accessKeyId, $accessKeySecret, $endpoint); goto YNsQ3; PM8MG: goto rnipS; goto wq2zK; wq2zK: I0O5F: goto JVmhu; QpUWj: $accessKeyId = trim($settings["\141\154\151\137\153\x65\x79"]); goto wFJMW; WEjxy: $result = $ossClient->uploadFile(trim($settings["\x61\x6c\151\137\163\164\157\x72\141\147\x65"]), $imgtypes, $imgtmp); goto Gcf3J; ItH6Z: $endpoint = trim($settings["\141\154\151\137\x65\x6e\x64\160\x6f\151\156\164"]); goto pYOMP; pYOMP: if ($settings["\157\x70\145\156\x5f\141\154\151\x74\x79\160\x65"] == 1) { goto I0O5F; } goto tsNql; YNsQ3: rnipS: goto WEjxy; Wkjr2: require_once __DIR__ . "\57\x74\145\155\160\x6c\141\164\x65\57\x73\164\141\164\x69\x63\57\x61\x6c\x69\x6f\x73\x73\x2f\141\x75\164\157\x6c\x6f\141\x64\x2e\x70\x68\160"; goto QpUWj; Gcf3J: return $result["\151\156\146\157"]["\x75\x72\x6c"]; goto xwx9_; tsNql: $ossClient = new OSS\OssClient($accessKeyId, $accessKeySecret, $endpoint, true); goto PM8MG; wFJMW: $accessKeySecret = trim($settings["\x61\154\151\x5f\x73\145\143\162\x65\x74"]); goto ItH6Z; xwx9_: } catch (Exception $e) { goto M8wwb; YkdtX: unlink($imgpath); goto yQhww; kaRNe: unlink($pa . $imgtypes); goto YkdtX; yQhww: osxTC: goto EJFl_; WVmwD: return $this->ToUrls(MODULE_URL . "\165\x70\154\x6f\141\144\151\x6d\147\x2f" . $imgtypes); goto AV9kv; M8wwb: if (!move_uploaded_file($imgtmp, $paths)) { goto osxTC; } goto WVmwD; AV9kv: sleep(10); goto kaRNe; EJFl_: } goto BoowZ; X2S4d: goto ewkF9; goto WyqPy; R55um: $paths = "\x2e\56\x2f\141\144\144\x6f\156\163\57\x6c\163\x68\144\137\171\141\156\172\150\151\x2f\x75\160\x6c\x6f\141\x64\x69\x6d\147\x2f" . $imgtypes; goto DK3dW; WqHvs: goto SOyyi; goto TqwKd; go7h0: GqMp4: goto CpVlS; apgvp: } function ToUrls($url) { goto h2CJa; nD5Ls: return $url; goto jwgw2; h2CJa: global $_GPC, $_W; goto ADLDW; jwgw2: ISEf5: goto o5Rhz; IJMSy: iNHi1: goto nD5Ls; MRSQl: goto ISEf5; goto IJMSy; i3d1n: return str_replace("\x68\164\x74\x70", "\x68\164\x74\x70\163", $url); goto MRSQl; ADLDW: if (strpos($url, "\150\x74\x74\160\x73") === 0) { goto iNHi1; } goto i3d1n; o5Rhz: } function scalePic($picname, $maxX = 800, $maxY = 800, $pre = '') { goto EvpMy; V9cMr: $sWidth = floor($width * $scale); goto AY0g2; ctSne: imagedestroy($im); goto X8WzC; YlJxX: $height = $info[1]; goto C_gzL; Da63o: imagecopyresampled($nim, $im, 0, 0, 0, 0, $sWidth, $sHeight, $width, $height); goto srONi; srONi: $newPicName = $this->outputImage($picname, $pre, $nim); goto ctSne; StsGQ: return $newPicName; goto vakxj; EvpMy: $info = getimagesize($picname); goto ArNzf; C_gzL: $im = $this->getPicType($info[2], $picname); goto s14FA; ArNzf: $width = $info[0]; goto YlJxX; s14FA: $scale = $maxX / $width > $maxY / $height ? $maxY / $height : $maxX / $width; goto V9cMr; AY0g2: $sHeight = floor($height * $scale); goto NlV93; X8WzC: imagedestroy($nim); goto StsGQ; NlV93: $nim = imagecreatetruecolor($sWidth, $sHeight); goto Da63o; vakxj: } function getPicType($type, $picname) { goto T7iVL; ODnSo: M94Yl: goto bchTN; y5AsH: switch ($type) { case 1: $im = imagecreatefromgif($picname); goto QyfXY; case 2: $im = imagecreatefromjpeg($picname); goto QyfXY; case 3: $im = imagecreatefrompng($picname); goto QyfXY; case 4: $im = imagecreatefromwbmp($picname); goto QyfXY; default: die("\xe4\xb8\x8d\xe8\xae\xa4\350\257\206\xe5\233\xbe\xe7\211\x87\xe7\261\xbb\xe5\236\x8b"); goto QyfXY; } goto ODnSo; bMGUG: return $im; goto g1h32; T7iVL: $im = null; goto y5AsH; bchTN: QyfXY: goto bMGUG; g1h32: } function outputImage($picname, $pre, $nim) { goto q5Pkt; iaERI: $picInfo = pathInfo($picname); goto EVRdp; q5Pkt: $info = getimagesize($picname); goto iaERI; EVRdp: $newPicName = $picInfo["\144\151\x72\x6e\x61\155\145"] . "\x2f" . $pre . $picInfo["\142\x61\163\145\x6e\141\x6d\145"]; goto ZZ1ot; Zaout: B4ipe: goto w9w1t; eokbU: return $newPicName; goto i5b3v; ZZ1ot: switch ($info[2]) { case 1: imagegif($nim, $newPicName); goto Keidz; case 2: imagejpeg($nim, $newPicName); goto Keidz; case 3: imagepng($nim, $newPicName); goto Keidz; case 4: imagewbmp($nim, $newPicName); goto Keidz; } goto Zaout; w9w1t: Keidz: goto eokbU; i5b3v: } function getReqSign($params, $appkey) { goto FQBzs; sfP0x: $str .= "\141\x70\x70\x5f\x6b\145\x79\75" . $appkey; goto Vr2vg; Vr2vg: $sign = strtoupper(md5($str)); goto jLdDD; jLdDD: return $sign; goto FfC1h; toHze: Yx2Fe: goto sfP0x; Nll6j: $str = ''; goto BGkDz; FQBzs: ksort($params); goto Nll6j; BGkDz: foreach ($params as $key => $value) { goto z1TOx; ERYRV: $str .= $key . "\75" . urlencode($value) . "\x26"; goto WDGRa; LZP8y: cwxK9: goto E0uQ4; WDGRa: AakEH: goto LZP8y; z1TOx: if (!($value !== '')) { goto AakEH; } goto ERYRV; E0uQ4: } goto toHze; FfC1h: } function doHttpPost($url, $params) { goto t9GMK; t9GMK: $curl = curl_init(); goto RQsp1; BtEj2: bIiA6: goto gRSIT; XiZmh: $response = false; goto nViA6; RQsp1: $response = false; goto ctxJN; Uv45r: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); goto kjWJ2; kjWJ2: $response = curl_exec($curl); goto sN9ml; X_tP_: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto mR0lI; lDLP6: $head = array("\103\157\156\164\145\156\x74\x2d\124\x79\160\x65\72\40\x61\160\x70\x6c\x69\143\141\x74\151\x6f\156\x2f\170\x2d\x77\x77\167\x2d\146\x6f\x72\155\x2d\x75\162\154\x65\x6e\143\x6f\x64\145\144"); goto xFk6l; qj924: curl_setopt($curl, CURLOPT_HEADER, false); goto e9KXR; gRSIT: curl_close($curl); goto C_3wa; QMMgj: if (!($code != 200)) { goto zlZFQ; } goto x0sfk; YQf6w: curl_setopt($curl, CURLOPT_URL, $url); goto lDLP6; ctxJN: SSZr3: goto YQf6w; Uxg9f: if (0) { goto SSZr3; } goto BtEj2; mR0lI: curl_setopt($curl, CURLOPT_SSL_VERIFYHOST, true); goto Uv45r; xFk6l: curl_setopt($curl, CURLOPT_HTTPHEADER, $head); goto On6UE; x0sfk: $response = false; goto IdE0h; awfvz: ohY18: goto tR_FQ; PNiPW: curl_setopt($curl, CURLOPT_POSTFIELDS, $body); goto qj924; e9KXR: curl_setopt($curl, CURLOPT_NOBODY, false); goto X_tP_; nViA6: goto bIiA6; goto awfvz; tR_FQ: $code = curl_getinfo($curl, CURLINFO_HTTP_CODE); goto QMMgj; C_3wa: return $response; goto qhp1q; On6UE: $body = http_build_query($params); goto HuNOO; IdE0h: goto bIiA6; goto MjNYD; MjNYD: zlZFQ: goto Uxg9f; HuNOO: curl_setopt($curl, CURLOPT_POST, true); goto PNiPW; sN9ml: if (!($response === false)) { goto ohY18; } goto XiZmh; qhp1q: } function AI_QQ($file, $datas, $urls) { goto K9izD; v3DBT: $response = $this->doHttpPost($urls, $params); goto hR4i_; doRgq: foreach ($datas as $key => $value) { goto oezJU; Tbmpl: NrmYE: goto OG5sg; OG5sg: Iizc3: goto RYJCJ; oezJU: if (!($value !== '')) { goto NrmYE; } goto wzpnk; wzpnk: $params[$key] = $value; goto Tbmpl; RYJCJ: } goto TWbqj; HletF: $params["\x73\x69\147\156"] = $this->getReqSign($params, $appkey); goto v3DBT; d8mvo: $data = file_get_contents($file); goto k8GzA; TWbqj: e5fpL: goto cl1hd; SCU7j: $settings = $this->module["\x63\157\156\x66\151\x67"]; goto d8mvo; hR4i_: return $response; goto lrRNM; UmgkC: if (empty($datas)) { goto nlTfy; } goto doRgq; K9izD: global $_GPC, $_W; goto SCU7j; cl1hd: nlTfy: goto HletF; g1wlA: $params = array("\141\160\160\137\x69\144" => trim($settings["\141\151\x5f\141\160\x70\151\x64"]), "\151\155\x61\x67\145" => $base64, "\164\x69\x6d\x65\x5f\x73\164\x61\155\x70" => strval(time()), "\x6e\x6f\x6e\143\145\x5f\x73\x74\x72" => strval(rand()), "\x73\x69\147\x6e" => ''); goto UmgkC; eDTo4: $appkey = trim($settings["\141\151\137\x61\x70\x70\153\145\x79"]); goto g1wlA; k8GzA: $base64 = base64_encode($data); goto eDTo4; lrRNM: } function SetVisit() { goto OPmYK; OPmYK: global $_GPC, $_W; goto n4RR9; n4RR9: $sql = "\165\x70\144\x61\164\x65\40" . tablename("\154\x73\x68\x64\x5f\171\141\x6e\172\150\151\x5f\163\145\x74\x69\156\x67") . "\x20\163\x65\164\x20\x76\151\x73\x69\164\x3d\x76\151\163\x69\164\x2b\61\40\x77\x68\145\x72\145\40\165\x6e\151\141\x63\151\x64\40\75\x20" . $_W["\x75\156\151\141\143\151\144"]; goto SUFgD; SUFgD: pdo_query($sql); goto p2b1n; p2b1n: } public function doPageGetuserinfo() { goto NsTjj; hk1BE: echo json_encode(array("\x63\x6f\x64\x65" => "\x31\x30\60", "\165\163\x65\162\151\x6e\x66\157" => $counts[0]["\x69\x64"])); goto RvLxY; ptK3l: $result = pdo_insert("\x6c\163\150\x64\137\171\x61\156\172\150\151\x5f\x75\x73\x65\x72", $setdata); goto eXGev; RvLxY: lVB8u: goto AczMJ; tHZRI: LtwNh: goto hk1BE; Pxbgr: if (empty($counts[0]["\150\145\141\x64\151\155\147"]) && empty($counts[0]["\x6e\151\143\x6b\156\141\155\145"])) { goto LtwNh; } goto cxzDF; r5EIZ: $this->SetVisit(); goto YG0Ht; cxzDF: echo json_encode(array("\143\x6f\144\145" => "\62\x30\60", "\165\163\x65\162\x69\x6e\x66\157" => $counts[0])); goto VWwsr; eXGev: echo json_encode(array("\143\157\144\145" => "\x31\60\60", "\165\x73\x65\x72\151\x6e\x66\157" => pdo_insertid())); goto XRyx7; XRyx7: goto Pnw9k; goto Cj41P; Cj41P: uAiUx: goto Pxbgr; cefyX: $setdata = array("\165\156\x69\141\143\x69\x64" => $_W["\x75\156\151\141\x63\151\x64"], "\157\x70\x65\156\x69\144" => $soid["\157\x70\x65\x6e\x69\144"], "\x63\162\x65\x61\x74\x74\x69\155\145" => time(), "\141\160\x70\154\x79" => $settings["\x73\150\x61\162\145\141\144\x64\x6e\x75\x6d"]); goto ptK3l; AczMJ: Pnw9k: goto r5EIZ; NsTjj: global $_GPC, $_W; goto h9n87; CJtT5: if (!empty($counts)) { goto uAiUx; } goto cefyX; A0BAw: $counts = pdo_fetchall("\x53\x45\x4c\105\x43\x54\40\52\40\106\122\x4f\115\40" . tablename("\x6c\163\150\144\x5f\x79\141\x6e\x7a\x68\151\137\x75\163\x65\x72") . "\x20\x77\150\145\x72\x65\x20\x75\x6e\x69\141\x63\x69\144\x20\75\x20" . $_W["\165\x6e\151\x61\x63\151\x64"] . "\40\x61\x6e\x64\x20\157\x70\x65\x6e\151\144\75\x27" . $soid["\x6f\160\145\x6e\x69\x64"] . "\47"); goto CJtT5; DZyuF: load()->func("\x63\157\x6d\x6d\165\156\151\143\x61\x74\151\x6f\156"); goto MgyAW; BZzws: $soid = json_decode($response["\143\157\x6e\164\x65\156\164"], true); goto A0BAw; h9n87: $settings = $this->module["\143\x6f\156\x66\x69\147"]; goto DZyuF; VWwsr: goto lVB8u; goto tHZRI; MgyAW: $data = array("\x61\x70\160\151\144" => $_W["\x75\156\x69\141\x63\143\157\165\156\x74"]["\153\x65\x79"], "\x73\x65\x63\x72\145\164" => $_W["\165\156\x69\x61\x63\143\x6f\165\156\164"]["\163\145\143\x72\x65\164"], "\152\x73\x5f\x63\157\x64\145" => $_GPC["\x63\157\x64\x65"], "\x67\162\x61\x6e\x74\x5f\x74\171\x70\145" => "\x61\165\164\x68\x6f\162\x69\172\141\x74\x69\157\x6e\137\143\157\x64\145"); goto EKVrL; EKVrL: $response = ihttp_request("\150\164\164\160\x73\x3a\57\57\141\x70\151\x2e\x77\x65\151\x78\151\156\56\x71\x71\x2e\x63\x6f\x6d\57\163\x6e\x73\x2f\x6a\163\x63\x6f\x64\145\62\163\x65\x73\163\151\157\x6e", $data); goto BZzws; YG0Ht: } public function doPageGetuser() { goto BF2hB; HUqjq: echo json_encode($counts); goto d1DKY; v2iuw: $counts = pdo_fetchall("\123\x45\x4c\105\x43\124\40\52\x20\106\x52\117\x4d\x20" . tablename("\154\163\150\x64\x5f\171\x61\x6e\x7a\150\x69\x5f\165\163\145\162") . "\40\167\150\x65\x72\145\40\x75\156\151\141\143\x69\x64\40\75\x20" . $_W["\165\x6e\x69\141\x63\x69\x64"] . "\x20\141\156\144\x20\151\144\x3d" . $_GPC["\151\x64\x73"]); goto HUqjq; BF2hB: global $_GPC, $_W; goto v2iuw; d1DKY: } public function doPageUpuser() { goto TF2k5; Yida6: NoIXA: goto VyjTj; MDwMV: $result = pdo_update("\x6c\163\150\144\x5f\171\x61\x6e\172\150\x69\137\165\x73\145\162", $userdata, array("\x69\x64" => $_GPC["\x69\x64\x73"])); goto Fwohz; CumJf: echo 0; goto xjBbV; xjBbV: goto NoIXA; goto QCnr8; m50zX: echo 100; goto Yida6; TF2k5: global $_GPC, $_W; goto AqrKJ; Fwohz: if (!empty($result)) { goto YPeIc; } goto CumJf; QCnr8: YPeIc: goto m50zX; AqrKJ: $userdata = array("\x6e\x69\143\x6b\x6e\141\x6d\x65" => $_GPC["\x6e\x69\x63\153\156\x61\155\x65"], "\150\x65\x61\x64\151\x6d\147" => $_GPC["\x68\145\141\x64\x69\x6d\x67"]); goto MDwMV; VyjTj: } public function doPageSetformid() { goto ktZtw; e1FGU: $data = array("\146\x6f\x72\x6d\x69\x64" => $_GPC["\x66\157\x72\x6d\151\144"]); goto pyYwr; ktZtw: global $_GPC, $_W; goto e1FGU; pyYwr: $result = pdo_update("\x6c\163\x68\144\137\x79\141\x6e\x7a\150\x69\x5f\165\163\x65\162", $data, array("\x69\x64" => $_GPC["\151\144\x73"])); goto d8LWm; d8LWm: $ret = pdo_getcolumn("\x6c\163\x68\x64\x5f\x79\141\156\x7a\150\151\137\x75\x73\145\x72", array("\x69\144" => $_GPC["\151\x64\163"]), "\141\160\160\154\x79", 1); goto g1pUv; g1pUv: echo $ret; goto yN2sr; yN2sr: } public function doPageUpshare() { goto iwPho; jwoj0: pdo_query($sql); goto T1kvN; UufQP: $settings = $this->module["\x63\x6f\x6e\x66\151\x67"]; goto hrmER; T1kvN: $sql2 = "\x75\x70\x64\x61\164\145\40" . tablename("\x6c\x73\x68\x64\137\x79\141\x6e\x7a\150\151\137\x75\163\x65\162") . "\x20\x73\145\164\x20\141\160\x70\x6c\x79\75" . $settings["\x73\150\x61\162\x65\141\x64\144\156\165\155"] . "\x20\167\150\x65\162\145\40\x69\144\40\x3d\40" . $_GPC["\151\144\x73"]; goto Izrin; hrmER: $sql = "\x75\x70\x64\x61\164\x65\40" . tablename("\x6c\163\x68\144\137\x79\x61\x6e\x7a\x68\x69\137\x75\x73\145\x72") . "\x20\x73\x65\x74\x20\x73\x68\x61\162\145\156\x75\155\75\163\x68\141\162\145\x6e\165\155\x2b\61\x20\x77\150\145\162\x65\x20\x69\144\x20\x3d\x20" . $_GPC["\x69\144\x73"]; goto jwoj0; iwPho: global $_GPC, $_W; goto UufQP; Izrin: pdo_query($sql2); goto ZhTUh; ZhTUh: } public function doPageSharevisible() { goto yijFq; yijFq: global $_GPC, $_W; goto hWLCf; hWLCf: $sql = "\165\x70\x64\x61\x74\145\40" . tablename("\154\x73\x68\144\x5f\x79\x61\156\x7a\150\x69\137\x75\x73\145\x72") . "\40\x73\x65\164\x20\x73\150\x61\162\145\x76\151\163\x69\x62\154\145\x3d\163\150\141\162\x65\x76\x69\163\151\142\x6c\x65\53\61\x20\167\150\x65\162\145\x20\151\144\x20\x3d\x20" . $_GPC["\x69\x64\163"]; goto DT7yT; DT7yT: pdo_query($sql); goto aOrvu; aOrvu: } public function doPageGetappinfo() { goto hfnGS; fafxe: echo json_encode($preset); goto eofa8; nZ7af: HaNDM: goto fafxe; isyyl: foreach ($preset as $key => $unit) { goto O3ylT; P7lhI: yk_Fu: goto ZLnKS; hNtQS: $preset[$key]["\x62\141\x63\153\151\155\147"] = $this->ToUrls(tomedia($preset[$key]["\x62\x61\x63\x6b\x69\155\147"])); goto P7lhI; CLQx0: $preset[$key]["\x77\145\x63\141\x74\x69\155\147"] = $this->ToUrls(tomedia($preset[$key]["\x77\x65\143\141\x74\151\x6d\x67"])); goto hNtQS; O3ylT: $preset[$key]["\151\155\x61\147\x65"] = $this->ToUrls(tomedia($preset[$key]["\151\155\x61\147\x65"])); goto CLQx0; ZLnKS: } goto nZ7af; w86cz: $preset = pdo_fetchall("\123\x45\x4c\x45\x43\x54\40\52\x20\x46\x52\117\115\x20" . tablename("\154\163\x68\x64\137\x79\x61\x6e\172\150\x69\x5f\163\x65\164\151\156\x67") . "\x20\x77\150\145\x72\x65\40\165\x6e\x69\x61\143\151\x64\x20\x3d\40" . $_W["\165\x6e\x69\141\x63\151\x64"]); goto isyyl; hfnGS: global $_GPC, $_W; goto w86cz; eofa8: } public function doPageSlider() { goto sF6NU; sF6NU: global $_GPC, $_W; goto HXV_h; gxLco: echo json_encode($preset); goto pdqpA; HXV_h: $preset = pdo_fetchall("\x53\105\114\105\103\x54\40\x2a\40\106\122\117\115\40" . tablename("\154\x73\150\144\x5f\x79\x61\156\172\150\151\x5f\163\x6c\x69\144\145\162") . "\40\x77\x68\145\162\145\x20\x75\x6e\151\x61\143\151\x64\40\x3d\x20" . $_W["\x75\x6e\151\x61\x63\151\x64"]); goto lDZbu; lDZbu: foreach ($preset as $key => $unit) { $preset[$key]["\151\155\141\x67\145"] = $this->ToUrls(tomedia($preset[$key]["\x69\155\141\x67\x65"])); hyJRa: } goto qyX9M; qyX9M: beA1Q: goto gxLco; pdqpA: } public function doPageToken() { goto Qqrd1; oYfQ8: curl_setopt($curl, CURLOPT_URL, "\x68\x74\x74\x70\x73\72\57\x2f\x61\x70\x69\56\167\145\151\x78\151\x6e\x2e\x71\x71\56\143\x6f\155\57\x63\147\x69\55\x62\x69\x6e\57\x74\x6f\153\145\156\77\147\162\x61\156\x74\x5f\164\x79\160\145\75\x63\154\151\145\x6e\164\137\143\162\145\144\145\x6e\x74\x69\x61\x6c\x26\x61\160\160\151\144\x3d" . $_W["\x75\156\151\x61\143\x63\157\x75\156\164"]["\x6b\145\171"] . "\46\x73\145\143\162\x65\x74\x3d" . $_W["\x75\156\x69\x61\x63\143\157\x75\156\164"]["\x73\145\x63\x72\145\164"]); goto dCH3n; i48Dh: $imgtype = time() . "\56\x70\156\147"; goto uzfhl; gk9ZU: curl_close($curl); goto H3f8S; lXwnq: curl_setopt($ch, CURLOPT_URL, $url); goto soD47; VrV72: $pa = __DIR__ . "\x2f\x75\160\154\157\x61\144\151\x6d\x67\x2f" . $ids . "\57"; goto huKGB; huKGB: if (file_exists($pa)) { goto QYYtM; } goto jBpPw; Qqrd1: global $_GPC, $_W; goto I_QHg; sYf6W: load()->func("\x66\151\154\x65"); goto VrV72; dCH3n: curl_setopt($curl, CURLOPT_RETURNTRANSFER, 1); goto TYTsS; b7Ea7: $data = curl_exec($ch); goto Hwl33; X7Iib: $curl = curl_init(); goto oYfQ8; oBEK5: curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, 0); goto M0vPS; M0vPS: curl_setopt($ch, CURLOPT_POST, 1); goto AFZYV; jBpPw: mkdir($pa); goto a9k5S; uzfhl: file_put_contents(__DIR__ . "\57\x75\x70\x6c\157\x61\144\x69\x6d\x67\57" . $ids . "\57" . $imgtype, $data); goto tF_X3; t25eo: $url = "\150\x74\x74\x70\x73\72\x2f\x2f\x61\160\x69\56\167\145\151\x78\x69\x6e\56\x71\x71\x2e\x63\x6f\x6d\57\167\170\x61\x2f\147\145\x74\167\170\x61\143\157\x64\145\x75\156\x6c\x69\x6d\151\x74\x3f\x61\x63\x63\x65\163\163\137\x74\157\153\145\156\x3d" . $access_token; goto cfX0e; H3f8S: $settoken = json_decode($gettoken, true); goto H_M4o; XDgYO: $ch = curl_init(); goto lXwnq; H_M4o: $access_token = $settoken["\x61\143\143\145\163\163\x5f\x74\157\x6b\145\x6e"]; goto t25eo; cfX0e: $jsons = array("\x73\x63\145\x6e\x65" => $itid, "\160\x61\x67\x65" => "\x6c\x73\x68\144\137\171\141\156\x7a\x68\151\x2f\160\x61\147\145\x73\57\163\x68\x61\162\145\x2f\163\150\141\x72\x65", "\x77\151\144\164\150" => 430, "\141\x75\164\x6f\x5f\x63\x6f\x6c\x6f\x72" => false); goto QQRvH; TYTsS: $gettoken = curl_exec($curl); goto gk9ZU; QQRvH: $formwork = json_encode($jsons); goto XDgYO; Hwl33: curl_close($ch); goto i48Dh; QMq1v: $ids = $_GPC["\151\144\x73"]; goto sYf6W; soD47: curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1); goto oBEK5; I_QHg: load()->func("\x63\x6f\155\155\165\x6e\x69\143\141\x74\x69\157\x6e"); goto Wysfb; a9k5S: QYYtM: goto X7Iib; tF_X3: echo $this->ToUrls(MODULE_URL . "\x75\x70\x6c\x6f\141\144\x69\x6d\147\x2f" . $ids . "\x2f" . $imgtype); goto zgHyc; AFZYV: curl_setopt($ch, CURLOPT_POSTFIELDS, $formwork); goto b7Ea7; Wysfb: $itid = $_GPC["\x69\164\145\155\x69\144"]; goto QMq1v; zgHyc: } public function doPageGetmoreimg() { goto nlGqW; xda2_: loZNh: goto aM_33; vbts2: $facemerge = pdo_fetchall("\123\105\x4c\x45\103\124\40\x2a\40\106\x52\117\115\40" . tablename("\x6c\163\x68\x64\137\171\x61\x6e\x7a\x68\151\137\146\x61\x63\145\155\x65\162\147\145")); goto LsWjV; BXfus: $imgs = array("\146\141\143\145\x6d\x65\x72\147\x65" => $facemerge, "\146\141\143\x65\x64\x65\x63\x6f\162\141\164\x69\x6f\x6e" => $facedecoration, "\151\x6d\x67\146\x69\154\x74\145\162" => $imgfilter, "\146\141\x63\x65\x73\164\x69\x63\x6b\x65\162" => $facesticker); goto nu_jS; hQnGe: YvOW6: goto BVXdS; fDkGs: foreach ($facesticker as $key => $unit) { $facesticker[$key]["\165\x72\x6c"] = $this->ToUrls(MODULE_URL . "\151\x6d\141\x67\x65\163\x2f\x66\x61\x63\x65\x73\164\151\x63\x6b\x65\x72\57" . $facesticker[$key]["\165\162\154"]); vDOSn: } goto eZkIj; eZkIj: VZfAG: goto BXfus; aM_33: $facedecoration = pdo_fetchall("\x53\x45\114\105\103\x54\x20\x2a\x20\x46\x52\x4f\115\40" . tablename("\154\163\x68\144\x5f\x79\141\x6e\x7a\150\151\x5f\x66\141\x63\x65\x64\145\x63\157\x72\141\164\x69\x6f\x6e")); goto q_W2C; nu_jS: echo json_encode($imgs); goto DE7Ow; BVXdS: $facesticker = pdo_fetchall("\123\x45\x4c\105\103\x54\x20\x2a\40\x46\x52\x4f\115\40" . tablename("\154\x73\150\x64\137\x79\x61\x6e\x7a\150\151\137\146\141\143\145\x73\x74\151\x63\153\145\x72")); goto fDkGs; YFD2u: foreach ($imgfilter as $key => $unit) { $imgfilter[$key]["\165\x72\154"] = $this->ToUrls(MODULE_URL . "\x69\155\x61\147\x65\163\x2f\x69\x6d\x67\146\151\154\164\x65\162\57" . $imgfilter[$key]["\x75\162\x6c"]); LBqiA: } goto hQnGe; q_W2C: foreach ($facedecoration as $key => $unit) { $facedecoration[$key]["\165\x72\x6c"] = $this->ToUrls(MODULE_URL . "\151\x6d\141\147\145\163\57\146\x61\x63\x65\x64\145\x63\157\162\x61\x74\x69\x6f\x6e\57" . $facedecoration[$key]["\165\x72\154"]); l0fi2: } goto BzFpa; nlGqW: global $_W, $_GPC; goto vbts2; LsWjV: foreach ($facemerge as $key => $unit) { $facemerge[$key]["\165\162\154"] = $this->ToUrls(MODULE_URL . "\x69\155\x61\x67\145\163\x2f\x66\x61\x63\145\155\x65\x72\147\145\x2f" . $facemerge[$key]["\165\162\154"]); ovuJv: } goto xda2_; BzFpa: wEv4f: goto cY58k; cY58k: $imgfilter = pdo_fetchall("\123\105\114\x45\103\x54\40\52\x20\x46\x52\117\115\x20" . tablename("\154\x73\150\144\137\171\x61\156\x7a\150\151\137\151\155\x67\146\x69\154\164\145\162")); goto YFD2u; DE7Ow: } public function doPageDetectface() { goto ywKpa; zEfaZ: if (file_exists($pa)) { goto CAplj; } goto pxF8W; FJIek: array_push($result, $this->saveFile($imgtmp, $savename)); goto EPyk9; Cjij0: $result = json_decode($response, true); goto FJIek; EPyk9: echo json_encode($result); goto qfOi0; moM62: CAplj: goto yMNHt; nj2Mn: $response = $this->AI_QQ($imgtmp, array("\155\157\x64\145" => "\60"), "\150\x74\164\x70\x73\x3a\x2f\x2f\141\160\x69\56\141\151\x2e\x71\x71\x2e\x63\x6f\x6d\57\146\x63\147\x69\55\x62\x69\156\x2f\146\x61\x63\145\x2f\x66\x61\x63\145\x5f\144\145\164\145\143\164\x66\141\x63\145"); goto Cjij0; yMNHt: $imgtmp = $_FILES["\x66\151\154\x65"]["\x74\x6d\x70\x5f\156\141\155\x65"]; goto aLpuW; o3tiY: $pa = __DIR__ . "\x2f\x75\x70\x6c\x6f\x61\x64\x69\x6d\x67\x2f" . $ids . "\57"; goto zEfaZ; ywKpa: global $_W, $_GPC; goto kg1FU; pxF8W: mkdir($pa); goto moM62; aLpuW: $savename = time() . "\x2e" . pathinfo($_FILES["\x66\151\154\x65"]["\156\x61\155\x65"], PATHINFO_EXTENSION); goto nj2Mn; kg1FU: load()->func("\x66\151\154\x65"); goto o3tiY; qfOi0: } public function doPageFacemerge() { goto MDigZ; Bq5pp: $imgtmp = $_FILES["\x66\151\x6c\x65"]["\x74\155\160\x5f\x6e\141\155\x65"]; goto y7ekp; XOcl4: $imgname = time() . "\x2e\x6a\160\x67"; goto ie3gs; PxBcc: if (file_exists($pa)) { goto ZkxQK; } goto puCrx; Wmfan: $ids = $_GPC["\151\144\x73"]; goto xPV4d; xGr_v: $pa = __DIR__ . "\57\x75\x70\x6c\157\x61\144\x69\x6d\x67\57" . $ids . "\57"; goto PxBcc; n3ALG: if (!($soso > 100)) { goto xORrm; } goto o0Ucl; MDigZ: global $_GPC, $_W; goto Wmfan; xPV4d: load()->func("\x66\x69\x6c\145"); goto xGr_v; ie3gs: $soso = file_put_contents($pa . $imgname, base64_decode($rets["\144\x61\164\x61"]["\151\x6d\141\147\x65"])); goto n3ALG; y7ekp: $response = $this->AI_QQ($imgtmp, array("\x6d\x6f\144\145\154" => $_GPC["\155\157\144\x65\154"]), "\x68\164\164\x70\x73\x3a\57\57\141\x70\x69\56\141\151\56\x71\161\56\x63\x6f\x6d\x2f\x66\x63\147\x69\x2d\x62\x69\156\x2f\x70\164\165\57\x70\x74\x75\x5f\x66\x61\x63\145\x6d\x65\x72\x67\x65"); goto PUTQN; e91Tt: xORrm: goto HiyZP; o0Ucl: echo $this->ToUrls(MODULE_URL . "\x75\x70\x6c\157\141\144\x69\155\147\57" . $ids . "\57" . $imgname); goto e91Tt; PUTQN: $rets = json_decode($response, true); goto XOcl4; WAKOK: ZkxQK: goto Bq5pp; puCrx: mkdir($pa); goto WAKOK; HiyZP: } public function doPageGetFacemerge() { goto RO6CJ; yNJyu: echo json_encode($preset); goto QJrEs; I_itk: foreach ($preset as $key => $unit) { $preset[$key]["\165\162\154"] = $this->ToUrls(MODULE_URL . "\x69\x6d\x61\147\145\163\57\146\141\143\x65\x6d\145\x72\147\x65\57" . $preset[$key]["\165\162\154"]); asI60: } goto A_dwv; A_dwv: YVCqO: goto yNJyu; RO6CJ: global $_W, $_GPC; goto kxr9d; kxr9d: $preset = pdo_fetchall("\x53\105\x4c\x45\x43\x54\x20\52\40\106\122\x4f\115\x20" . tablename("\x6c\x73\x68\x64\x5f\171\141\x6e\x7a\x68\x69\x5f\146\x61\143\x65\155\145\162\147\x65")); goto I_itk; QJrEs: } public function doPageFacedecoration() { goto KJYJo; Ny4Jo: echo $this->ToUrls(MODULE_URL . "\165\x70\x6c\x6f\x61\144\x69\155\x67\57" . $ids . "\x2f" . $imgname); goto v1oar; vg5Rv: $imgtmp = $_FILES["\146\x69\154\145"]["\x74\155\160\137\156\x61\155\x65"]; goto jB049; v1oar: MttMs: goto J8HrM; z1x6J: load()->func("\x66\x69\x6c\x65"); goto sDfYT; wmBRk: $imgname = time() . "\x2e\x6a\x70\147"; goto pWmiB; AJVJt: $rets = json_decode($response, true); goto wmBRk; ZkLe0: if (!($soso > 100)) { goto MttMs; } goto Ny4Jo; pWmiB: $soso = file_put_contents($pa . $imgname, base64_decode($rets["\144\x61\x74\x61"]["\x69\155\x61\147\145"])); goto ZkLe0; KJYJo: global $_W, $_GPC; goto rjoPT; sDfYT: $pa = __DIR__ . "\x2f\x75\x70\x6c\157\141\x64\x69\155\x67\x2f" . $ids . "\57"; goto xzCpS; dEKXA: mkdir($pa); goto v7b_P; v7b_P: kA3E9: goto vg5Rv; jB049: $response = $this->AI_QQ($imgtmp, array("\x64\145\143\157\162\x61\x74\x69\x6f\x6e" => $_GPC["\155\x6f\x64\145\x6c"]), "\150\x74\164\160\x73\x3a\x2f\57\141\160\x69\56\141\151\56\x71\x71\x2e\143\157\155\x2f\146\x63\147\x69\55\142\151\156\57\160\x74\x75\57\160\164\165\x5f\146\141\x63\145\144\145\143\157\x72\x61\x74\x69\x6f\x6e"); goto AJVJt; xzCpS: if (file_exists($pa)) { goto kA3E9; } goto dEKXA; rjoPT: $ids = $_GPC["\x69\x64\163"]; goto z1x6J; J8HrM: } public function doPageGetFacedecoration() { goto G0u5N; G0u5N: global $_W, $_GPC; goto xfM30; LOeLK: GtSlm: goto OxtN1; p1XqF: foreach ($preset as $key => $unit) { $preset[$key]["\165\162\x6c"] = $this->ToUrls(MODULE_URL . "\x69\155\141\147\x65\x73\57\x66\141\x63\x65\x64\145\x63\x6f\162\141\164\x69\157\156\57" . $preset[$key]["\x75\x72\154"]); PZjyj: } goto LOeLK; OxtN1: echo json_encode($preset); goto GzNrn; xfM30: $preset = pdo_fetchall("\x53\105\x4c\105\x43\124\x20\x2a\x20\106\x52\117\x4d\40" . tablename("\x6c\163\x68\144\137\171\141\156\x7a\x68\151\x5f\146\141\x63\x65\x64\x65\143\x6f\162\141\164\151\x6f\156")); goto p1XqF; GzNrn: } public function doPageImgfilter() { goto pt7Nm; xjDrB: if (!($soso > 100)) { goto W19db; } goto r6945; aSe7B: load()->func("\x66\151\154\145"); goto xzLtX; MaNWq: $ids = $_GPC["\x69\144\x73"]; goto aSe7B; UHRlo: $imgtmp = $_FILES["\146\151\154\145"]["\164\155\160\137\156\141\155\145"]; goto mAs3U; pt7Nm: global $_W, $_GPC; goto MaNWq; mAs3U: $response = $this->AI_QQ($imgtmp, array("\146\151\x6c\x74\x65\162" => $_GPC["\x6d\x6f\144\x65\154"]), "\x68\x74\x74\160\163\x3a\x2f\57\x61\160\x69\x2e\141\151\56\161\161\56\x63\157\x6d\57\146\x63\x67\151\55\x62\151\x6e\x2f\160\x74\x75\57\160\164\165\137\x69\x6d\147\x66\151\x6c\164\x65\x72"); goto YRLGg; ZlKpG: if (file_exists($pa)) { goto S75KR; } goto EE9bs; YRLGg: $rets = json_decode($response, true); goto oSJb8; g4Zc0: W19db: goto pMxaM; oSJb8: $imgname = time() . "\56\x6a\160\x67"; goto DckXa; r6945: echo $this->ToUrls(MODULE_URL . "\x75\160\x6c\157\x61\x64\151\x6d\x67\57" . $ids . "\x2f" . $imgname); goto g4Zc0; EE9bs: mkdir($pa); goto mXCu4; xzLtX: $pa = __DIR__ . "\57\x75\x70\x6c\157\141\144\151\x6d\x67\57" . $ids . "\57"; goto ZlKpG; mXCu4: S75KR: goto UHRlo; DckXa: $soso = file_put_contents($pa . $imgname, base64_decode($rets["\144\x61\x74\141"]["\x69\x6d\x61\x67\x65"])); goto xjDrB; pMxaM: } public function doPageGetImgfilter() { goto E4Y52; g0mOu: foreach ($preset as $key => $unit) { $preset[$key]["\165\x72\154"] = $this->ToUrls(MODULE_URL . "\151\x6d\141\x67\x65\x73\57\x69\155\147\x66\151\154\x74\145\162\x2f" . $preset[$key]["\165\x72\154"]); SHbRy: } goto p0ihX; u2yz_: $preset = pdo_fetchall("\123\105\x4c\105\103\x54\40\x2a\40\106\x52\117\115\x20" . tablename("\154\163\x68\x64\137\x79\141\x6e\x7a\150\151\137\x69\x6d\147\146\x69\154\x74\145\162")); goto g0mOu; E4Y52: global $_W, $_GPC; goto u2yz_; p0ihX: Uh39j: goto ivSL_; ivSL_: echo json_encode($preset); goto Rkav8; Rkav8: } public function doPageFacesticker() { goto wBdxB; oJV1s: HtHFv: goto tznUk; Mxygs: $imgname = time() . "\x2e\x6a\160\147"; goto v4TdS; guP38: $response = $this->AI_QQ($imgtmp, array("\163\164\x69\x63\153\145\162" => $_GPC["\x6d\x6f\144\145\x6c"]), "\x68\164\164\160\x73\72\x2f\x2f\x61\x70\x69\x2e\141\151\56\161\161\56\x63\x6f\155\57\x66\x63\147\x69\55\142\x69\x6e\x2f\x70\164\165\57\x70\x74\165\137\x66\x61\143\145\163\x74\x69\x63\x6b\x65\x72"); goto BFANP; EY4ft: load()->func("\x66\x69\x6c\x65"); goto A76M7; crcEY: if (file_exists($pa)) { goto Wxxjk; } goto i2SG2; BFANP: $rets = json_decode($response, true); goto Mxygs; b7tEO: echo $this->ToUrls(MODULE_URL . "\x75\160\x6c\x6f\141\x64\151\x6d\x67\x2f" . $ids . "\x2f" . $imgname); goto oJV1s; pFGfp: if (!($soso > 100)) { goto HtHFv; } goto b7tEO; v4TdS: $soso = file_put_contents($pa . $imgname, base64_decode($rets["\x64\141\x74\141"]["\x69\x6d\141\147\x65"])); goto pFGfp; h9ue8: Wxxjk: goto wvHDy; sGij6: $ids = $_GPC["\x69\x64\x73"]; goto EY4ft; i2SG2: mkdir($pa); goto h9ue8; wvHDy: $imgtmp = $_FILES["\146\x69\x6c\x65"]["\x74\x6d\160\137\x6e\141\155\x65"]; goto guP38; wBdxB: global $_W, $_GPC; goto sGij6; A76M7: $pa = __DIR__ . "\x2f\x75\x70\x6c\x6f\x61\144\151\155\147\57" . $ids . "\57"; goto crcEY; tznUk: } public function doPageGetFacesticker() { goto AmTQV; Okz5u: $preset = pdo_fetchall("\x53\x45\x4c\105\103\124\x20\52\40\x46\x52\x4f\x4d\40" . tablename("\154\x73\150\x64\137\171\x61\x6e\x7a\150\x69\x5f\x66\141\x63\x65\163\164\151\143\x6b\145\x72")); goto yjoam; Yzvtu: VXIEd: goto XF3ir; yjoam: foreach ($preset as $key => $unit) { $preset[$key]["\165\x72\154"] = $this->ToUrls(MODULE_URL . "\x69\x6d\141\x67\145\x73\57\146\141\x63\145\x73\x74\x69\x63\153\145\162\x2f" . $preset[$key]["\x75\162\154"]); SZKll: } goto Yzvtu; AmTQV: global $_W, $_GPC; goto Okz5u; XF3ir: echo json_encode($preset); goto YARiC; YARiC: } public function doPageFacecompareup() { goto t66J_; KPbgm: $pa = __DIR__ . "\57\x75\160\154\157\141\144\x69\x6d\x67\57" . $ids . "\x2f"; goto jKkPe; GGM2V: F0soN: goto WgpBe; O4PQh: echo json_encode($result); goto GGM2V; l39SM: if (!move_uploaded_file($imgtmp, $pa . $savename)) { goto F0soN; } goto W4Mqh; HSld6: array_push($result, $savename); goto O4PQh; qPgcF: mkdir($pa); goto ptpSP; jKkPe: if (file_exists($pa)) { goto NWHAT; } goto qPgcF; FKTM_: $result = json_decode($response, true); goto HSld6; S9Ss3: $savename = time() . "\56" . pathinfo($_FILES["\x66\x69\154\x65"]["\156\141\x6d\x65"], PATHINFO_EXTENSION); goto l39SM; uKuXy: load()->func("\x66\151\154\x65"); goto vLdxP; ptpSP: NWHAT: goto js55r; vLdxP: $ids = $_GPC["\x69\144\x73"]; goto KPbgm; W4Mqh: $response = $this->AI_QQ($pa . $savename, array("\x6d\x6f\144\x65" => "\60"), "\x68\x74\164\x70\x73\x3a\x2f\x2f\141\x70\151\x2e\141\x69\56\161\161\56\x63\157\155\57\146\143\x67\151\55\142\x69\156\57\146\141\143\145\57\x66\141\x63\145\x5f\144\145\x74\x65\143\164\x66\141\x63\145"); goto FKTM_; js55r: $imgtmp = $_FILES["\146\x69\x6c\145"]["\164\x6d\x70\137\156\141\155\145"]; goto S9Ss3; t66J_: global $_W, $_GPC; goto uKuXy; WgpBe: } public function doPageFacecompare() { goto ID230; ID230: global $_W, $_GPC; goto WX_Uq; JMGxE: $json["\x64\141\164\141"]["\x73\151\x6d\151\154\x61\162\x69\x74\x79"] = 40 + intval($json["\x64\141\x74\x61"]["\163\x69\155\151\x6c\141\x72\151\x74\171"]); goto IvZ2D; oE7DE: echo $response; goto Lr8Kw; CSwl1: yJvaR: goto JMGxE; IvZ2D: echo json_encode($json); goto P5RfP; BAiLR: if ($jsondfen < 30) { goto TTWQ5; } goto E_mkF; Uu9vv: $appkey = trim($settings["\x61\x69\137\x61\x70\160\x6b\x65\171"]); goto cQ79k; cQ79k: $params = array("\141\x70\x70\137\151\144" => trim($settings["\141\x69\x5f\x61\x70\160\x69\144"]), "\151\155\x61\147\145\x5f\x61" => $base64a, "\151\155\141\147\x65\x5f\x62" => $base64b, "\164\151\x6d\145\137\x73\x74\x61\155\160" => strval(time()), "\156\x6f\x6e\143\x65\137\x73\x74\162" => strval(rand()), "\163\151\x67\x6e" => ''); goto u1NbH; mjJLL: goto ybr57; goto n35OA; jEvN8: $json["\144\x61\164\141"]["\x73\151\x6d\151\154\141\162\x69\x74\x79"] = 70 + intval($json["\144\141\x74\141"]["\x73\151\x6d\151\154\x61\x72\x69\164\171"]); goto KoBqP; e7xqE: $pa = __DIR__ . "\57\165\160\x6c\x6f\141\144\151\x6d\147\x2f" . $_GPC["\151\144\163"] . "\x2f"; goto ynnII; ZWFip: $jsondfen = $json["\144\141\164\x61"]["\x73\151\155\151\x6c\x61\162\x69\x74\171"]; goto BAiLR; ANsIg: $datab = file_get_contents($pa . $_GPC["\151\155\147\142"]); goto cRdFD; ynnII: $dataa = file_get_contents($pa . $_GPC["\151\x6d\147\x61"]); goto xVBbB; BwAUR: $response = $this->doHttpPost("\150\164\x74\160\163\72\57\x2f\141\160\x69\x2e\141\151\x2e\161\x71\56\143\157\155\x2f\146\143\x67\151\55\142\x69\x6e\57\146\x61\x63\x65\57\x66\x61\143\x65\x5f\146\x61\143\x65\x63\157\155\160\141\x72\145", $params); goto MZBAd; cRdFD: $base64b = base64_encode($datab); goto Uu9vv; KoBqP: echo json_encode($json); goto SJXet; P5RfP: g5m2N: goto mjJLL; n35OA: TTWQ5: goto jEvN8; xVBbB: $base64a = base64_encode($dataa); goto ANsIg; MZBAd: $json = json_decode($response, true); goto ZWFip; Lr8Kw: goto g5m2N; goto CSwl1; u1NbH: $params["\163\151\147\x6e"] = $this->getReqSign($params, $appkey); goto BwAUR; SJXet: ybr57: goto KLAJT; WX_Uq: $settings = $this->module["\x63\157\156\x66\x69\147"]; goto e7xqE; E_mkF: if ($jsondfen < 30 && $jsondfen < 60) { goto yJvaR; } goto oE7DE; KLAJT: } function Jqimg($imgtmp, $savename) { goto lVeNK; lVeNK: global $_W, $_GPC; goto Ynd1t; Ynd1t: $paths = "\x2e\x2e\x2f\x61\x64\144\x6f\156\x73\x2f\154\163\150\x64\137\x79\141\x6e\x7a\150\x69\57\165\x70\154\157\141\x64\x69\155\147\57" . $ids . "\x2f" . $savename; goto i6yJl; MBakX: h9hVv: goto nS5ux; eQjHj: return $tmpimgs; goto MBakX; i6yJl: if (!move_uploaded_file($imgtmp, $paths)) { goto h9hVv; } goto PNi_d; tfl2p: $imgurls = $this->saveFile($image_file, $tmpimgs); goto eQjHj; PNi_d: $tmpimgs = $this->scalePic($paths, 800, 800, "\163\x5f"); goto fhadg; fhadg: $image_file = __DIR__ . "\x2f\x75\x70\154\x6f\x61\x64\x69\155\x67\x2f\163\137" . $ids . "\57" . $savename; goto tfl2p; nS5ux: } public function doPageDelimg() { goto UkQFM; IKBEJ: closedir($dh); goto ExImc; jb1ky: $ids = $_GPC["\x69\144\x73"]; goto MRLDF; WPNfR: if (!($file = readdir($dh))) { goto q3rcz; } goto vZs11; tKiLv: uG8oJ: goto viOpY; TFpnc: CZxKj: goto ypvpG; Y1NY1: ihnlk: goto S_Qgc; a03Kz: echo "\x30"; goto r142Z; HCFlJ: $dh = opendir($dir); goto vOUl3; ExImc: if (rmdir($dir)) { goto uG8oJ; } goto a03Kz; UkQFM: global $_W, $_GPC; goto jb1ky; ldBde: if (!is_dir($fullpath)) { goto ihnlk; } goto cRges; cRges: deldir($fullpath); goto aEOyk; o2S6g: PZBTZ: goto kAtxK; vZs11: if (!($file != "\x2e" && $file != "\56\x2e")) { goto wvbuG; } goto GirW3; r142Z: goto CZxKj; goto tKiLv; GirW3: $fullpath = $dir . "\x2f" . $file; goto ldBde; kAtxK: wvbuG: goto E3o3Z; S_Qgc: unlink($fullpath); goto o2S6g; viOpY: echo "\62\x30\60"; goto TFpnc; MRLDF: $dir = "\56\x2e\57\141\x64\144\x6f\x6e\x73\57\154\x73\x68\x64\137\x79\141\156\x7a\150\151\57\165\x70\154\157\141\x64\x69\x6d\147\x2f" . $ids; goto HCFlJ; E3o3Z: goto hCKaZ; goto HlbL2; vOUl3: hCKaZ: goto WPNfR; aEOyk: goto PZBTZ; goto Y1NY1; HlbL2: q3rcz: goto IKBEJ; ypvpG: } public function doPageSavedata() { goto KC3mI; d_RLG: i1bUe: goto o4cQO; pdr6L: $postdata = json_decode($input, true); goto ptm9v; ptm9v: $datas = array("\x75\x6e\x69\x61\143\x69\x64" => $_W["\165\156\x69\141\x63\151\x64"], "\165\163\145\162\151\144" => intval($postdata["\x64\x61\x74\141\x73"][0]["\165\x73\145\162\151\144"]), "\x64\x61\164\x61\163" => json_encode($postdata["\144\x61\164\x61\x73"][0])); goto WtxPm; WtxPm: $result = pdo_insert("\154\x73\x68\144\137\171\x61\x6e\x7a\x68\151\137\x70\154\141\172\141", $datas); goto R78Y3; o4cQO: echo pdo_insertid(); goto qxhAR; mKLAj: $input = $GLOBALS["\x48\x54\124\120\x5f\x52\x41\127\137\120\x4f\123\x54\x5f\104\x41\x54\101"]; goto pdr6L; R78Y3: if (!empty($result)) { goto i1bUe; } goto idyk0; gxnTc: goto uneJk; goto d_RLG; idyk0: echo "\60"; goto gxnTc; KC3mI: global $_W, $_GPC; goto mKLAj; qxhAR: uneJk: goto nVSAk; nVSAk: } public function doPageGetmenu() { goto sBqEn; g2KSd: echo json_encode(array_chunk($preset, 6)); goto iZtxm; PW6yz: $preset = pdo_fetchall("\123\x45\114\x45\x43\124\40\x2a\x20\106\122\117\115\x20" . tablename("\x6c\163\150\144\x5f\171\x61\x6e\x7a\x68\151\137\x6d\x65\156\x75") . "\40\x20\127\x48\105\x52\x45\x20\165\156\151\x61\x63\x69\x64\75" . $_W["\165\156\x69\x61\x63\x69\x64"] . "\40\141\156\x64\x20\166\x69\x73\151\164\x3d\x31\40\117\x52\104\x45\122\40\102\x59\x20\x73\x6f\x72\x74\x20\x44\x45\x53\x43"); goto V7VSM; V7VSM: foreach ($preset as $key => $unit) { $preset[$key]["\x69\x6d\x61\x67\145"] = $this->ToUrls(tomedia($preset[$key]["\x69\155\141\x67\x65"])); HTG8a: } goto Njq1E; sBqEn: global $_GPC, $_W; goto PW6yz; Njq1E: OiBAZ: goto g2KSd; iZtxm: } public function doPageGetiteminfo() { goto cjbD9; QVsvP: echo json_encode($preset[0]); goto fEbHx; cjbD9: global $_GPC, $_W; goto iNjlT; iNjlT: $preset = pdo_fetchall("\123\x45\x4c\105\103\124\x20\x2a\x20\x46\x52\x4f\x4d\40" . tablename("\x6c\163\x68\x64\x5f\x79\x61\x6e\172\150\x69\137\x70\154\141\172\x61") . "\x20\40\127\x48\x45\122\105\x20\x69\x64\x3d" . $_GPC["\151\x64\x73"]); goto QVsvP; fEbHx: } public function doPageShareapply() { goto y1Rn4; ROa8u: $sql = "\165\x70\x64\x61\x74\x65\40" . tablename("\x6c\x73\150\144\137\x79\141\156\172\x68\x69\137\165\163\x65\x72") . "\40\163\x65\164\40\141\x70\x70\154\171\x3d\x61\x70\160\154\x79\55\61\40\x77\150\x65\x72\x65\x20\x69\144\75" . $_GPC["\151\x64\x73"]; goto EZQtk; EZQtk: pdo_query($sql); goto Y1WxJ; y1Rn4: global $_GPC, $_W; goto ROa8u; Y1WxJ: } public function doPageApplynum() { goto QMXys; QMXys: global $_GPC, $_W; goto T8L80; T8L80: $apply = pdo_getcolumn("\x6c\163\150\x64\x5f\171\141\x6e\x7a\150\x69\x5f\x75\163\x65\162", array("\151\144" => $_GPC["\151\x64\163"]), "\141\160\x70\x6c\171", 1); goto yHu3K; yHu3K: echo $apply; goto DJpoq; DJpoq: } public function doPageGetapplynum() { $settings = $this->module["\x63\x6f\156\146\151\147"]; echo $settings["\163\x68\x61\x72\145\x61\x64\144\156\165\155"]; } public function doPageShop() { goto ieTiK; EdUpQ: t8DUG: goto yelbI; PjL1T: foreach ($preset as $key => $unit) { $preset[$key]["\151\155\x61\147\x65"] = $this->ToUrls(tomedia($preset[$key]["\x69\155\141\x67\x65"])); BkiU1: } goto EdUpQ; C05B4: $preset = pdo_fetchall("\x53\105\114\x45\x43\124\x20\52\x20\x46\x52\x4f\x4d\40" . tablename("\154\163\x68\x64\137\171\x61\156\172\x68\151\x5f\x73\150\x6f\x70") . "\40\40\127\110\x45\122\x45\40\x75\x6e\x69\141\x63\151\144\x3d" . $_W["\x75\x6e\x69\x61\143\x69\144"]); goto PjL1T; ieTiK: global $_GPC, $_W; goto C05B4; yelbI: echo json_encode($preset); goto WvBHm; WvBHm: } }